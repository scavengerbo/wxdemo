webpackJsonp([1],{"1xf5":function(e,t){},"4ml/":function(e,t){},I2rT:function(e,t){},Lqls:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("keep-alive",[t("router-view")],1)],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},n,!1,function(e){a("I2rT")},null,null).exports,i=a("/ocq"),o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._v(" "),a("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),a("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),a("br"),e._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var l=a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},o,!1,function(e){a("RqNW")},"data-v-3b884edb",null).exports,c=a("mvHQ"),u=a.n(c),p=a("mtWM"),v=a.n(p),m=a("mw3O"),d=a.n(m);v.a.defaults.baseURL="http://101.43.185.6:3682";var h=a("Fd2+"),f={name:"Login",data:function(){return{account:{username:"",pwd:"",usermessage:"请填写用户名",pwdmessage:"请填写密码",pwdrule:!0}}},methods:{register:function(){this.$router.push({name:"register",params:{}})},handleLogin:function(){var e,t=this,a={name:this.account.username,passwd:this.account.pwd};(e=a,v.a.post("/login/verifyNameAndPasswd",d.a.stringify(e)).then(function(e){return e.data})).then(function(e){0===e.status?(sessionStorage.setItem("users",u()(e)),t.$router.push({name:"hello",params:e})):h.a.alert({message:"密码错误"}).then(function(){})})}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"auto"}},[a("div",{staticStyle:{"margin-top":"8rem"}},[a("div",{staticStyle:{width:"20rem",margin:"auto"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("wp管理系统")]),e._v(" "),a("van-form",{staticStyle:{"margin-top":"4rem"},attrs:{model:e.account}},[a("van-cell-group",{attrs:{inset:""}},[a("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:e.account.usermessage}]},model:{value:e.account.username,callback:function(t){e.$set(e.account,"username",t)},expression:"account.username"}}),e._v(" "),a("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:e.account.pwdrule,message:e.account.pwdmessage}]},model:{value:e.account.pwd,callback:function(t){e.$set(e.account,"pwd",t)},expression:"account.pwd"}})],1),e._v(" "),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"primary"},on:{click:e.handleLogin}},[e._v("\n            提交\n          ")])],1)],1)],1)])])},staticRenderFns:[]};var g=a("VU/8")(f,_,!1,function(e){a("U+n/")},null,null).exports,k={name:"hello",data:function(){return{users:{},tdd:["我发起的","抄送","我处理的","草稿"]}},activated:function(){this.initData()},methods:{initData:function(){this.users=JSON.parse(window.sessionStorage.getItem("users")),console.log(this.users)},agencyMatters:function(){this.$router.push({name:"ApprovalList"})},workList:function(){this.$router.push({name:"workList"})},myWorkList:function(){this.$router.push({name:"myWorkList"})}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"20rem",margin:"auto"}},[a("div",[a("h3",{staticStyle:{"font-family":"新宋体"}},[e._v("Hi "+e._s(this.users.body.cname))])]),e._v(" "),a("div",[a("span",{staticStyle:{"font-family":"新宋体"}},[e._v(e._s(this.users.body.username))])]),e._v(" "),a("van-cell",{staticStyle:{"margin-top":"2rem"},attrs:{title:"代办事项","is-link":"",value:e.users.body.agencyMatters.length,"title-style":"text-align:left;",inset:"true"},on:{click:e.agencyMatters}}),e._v(" "),a("div",{staticStyle:{"margin-top":"2rem"}},[a("van-grid",{attrs:{border:!1,"column-num":3,square:""}},[a("van-grid-item",{staticStyle:{"border-right":"1.5px solid #DFE9FB"},on:{click:e.myWorkList}},[a("van-icon",{attrs:{size:"2rem",name:"share-o"}}),e._v(" "),a("span",{staticStyle:{"margin-top":"1rem"}},[e._v("我发起的")])],1),e._v(" "),a("van-grid-item",{staticStyle:{"border-right":"1.5px solid #DFE9FB","border-left":"1.5px solid #DFE9FB"}},[a("van-icon",{attrs:{size:"2rem",name:"sign"}}),e._v(" "),a("span",{staticStyle:{"margin-top":"1rem"}},[e._v("我处理的")])],1),e._v(" "),a("van-grid-item",{staticStyle:{"border-left":"1.5px solid #DFE9FB"}},[a("van-icon",{attrs:{size:"2rem",name:"orders-o"}}),e._v(" "),a("span",{staticStyle:{"margin-top":"1rem"}},[e._v("草稿")])],1)],1)],1),e._v(" "),a("div",{staticStyle:{background:"white","margin-top":"1rem","padding-left":"0.5rem","padding-top":"0.5rem"}},[a("div",{staticStyle:{width:"80%"}},[a("h4",[e._v("常用")]),e._v(" "),a("van-grid",{attrs:{border:!1,"column-num":3,square:""}},[a("van-grid-item",{on:{click:e.workList}},[a("van-icon",{attrs:{size:"2rem",name:"add"}}),e._v(" "),a("span",{staticStyle:{"margin-top":"1rem"}},[e._v("发起工单")])],1)],1)],1)])],1)},staticRenderFns:[]};var y=a("VU/8")(k,w,!1,function(e){a("UBO3")},null,null).exports,b={name:"agencyMatters",data:function(){return{users:{},columns:[],childcolumns:[],childshowPicker:!1,childpermUsers:[],minDate:new Date(2020,0,1),maxDate:new Date(2099,10,1),currentDate:new Date,showPicker:!1,isDatePickerShow:!1,isDatePickerShowMore:!1,agencyItem:{},agencyMatters:[],twpid:"",workName:"",permUsers:[],permUser:{},appLevel:0,childflag:"N",childpermUser:{},childwork:{}}},activated:function(){var e,t=this;this.users=JSON.parse(window.sessionStorage.getItem("users")),this.twpid=this.$route.query.twpid,this.workName=this.$route.query.workName,console.log(this.users),(e={twp_id:this.twpid,userid:this.users.body.userid},v.a.post("/login/workTitle",d.a.stringify(e)).then(function(e){return e.data})).then(function(e){if(console.log(e),0===e.status){t.agencyMatters=e.body.workTitle,t.permUsers=e.body.permUser,t.columns=[],t.childflag=e.body.childflag;for(var a=0;a<t.permUsers.length;a++)t.columns.push(t.permUsers[a].uuid+"--"+t.permUsers[a].name);if("Y"===t.childflag){t.childpermUsers=e.body.permChild,t.childwork=e.body.childWork;for(var s=0;s<t.childpermUsers.length;s++)t.childcolumns.push(t.childpermUsers[s].uuid+"--"+t.childpermUsers[s].name)}}else h.a.alert({message:"异常"}).then(function(){})})},methods:{inputFocus:function(e,t){console.log("inputFocus==>>"),this.agencyItem=e,3===e.type?this.isDatePickerShow=!0:4===e.type?this.isDatePickerShowMore=!0:5===e.type&&(this.showPicker=!0)},submitForm:function(e){var t=this,a={userId:this.users.body.userid,twpId:this.twpid,status:e,workConts:this.agencyMatters,permUserID:this.permUser.userid,appLevel:this.appLevel,childpermUserID:this.childpermUser.userid,childflag:this.childflag};console.log("work_params==>>>",a),v()({headers:{"Content-Type":"application/json;charset=UTF-8"},method:"post",url:"/work/sumbitWorkOrder",data:u()(a)}).then(function(e){console.log(e.data),0===e.data.status?h.a.alert({message:"提交成功"}).then(function(){t.$router.push({name:"hello"})}):h.a.alert({message:"提交失败"}).then(function(){})})},childonConfirm:function(e){this.childshowPicker=!1,console.log(e),this.childpermUser={userid:e.split("--")[0],username:e.split("--")[1]},console.log(this.childpermUser)},onConfirm:function(e){this.showPicker=!1,console.log(e),this.permUser={userid:e.split("--")[0],username:e.split("--")[1]},console.log(this.permUser)},dateConfirm:function(e){this.isDatePickerShow=!1,this.agencyItem.vl=this.getDateYS(e)},dateConfirmD:function(e){this.isDatePickerShowMore=!1,this.agencyItem.vl=this.getDateYD(e)},timeAdd0:function(e){var t=e+"";return t.length<=1&&(t="0"+t),t},getDateYS:function(e){return this.timeAdd0(e.getFullYear())+"-"+this.timeAdd0(e.getMonth()+1)+"-"+this.timeAdd0(e.getDate())+" "+this.timeAdd0(e.getHours())+":"+this.timeAdd0(e.getMinutes())},getDateYD:function(e){return this.timeAdd0(e.getFullYear())+"-"+this.timeAdd0(e.getMonth()+1)+"-"+this.timeAdd0(e.getDate())}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{width:"80%",margin:"auto"}},[a("div",{staticStyle:{"margin-top":"2rem"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v(e._s(this.workName))]),e._v(" "),a("van-form",{staticStyle:{"margin-top":"2rem"}},[a("van-cell-group",{staticStyle:{"box-shadow":"0 8px 12px #ebedf0"},attrs:{inset:""}},[e._l(e.agencyMatters,function(t,s){return a("van-field",{key:s,attrs:{name:t.name,label:t.name,placeholder:t.name,rules:[{required:!0,message:t.name}],readonly:1==t.readonly},on:{focus:function(a){return e.inputFocus(t,s)}},model:{value:t.vl,callback:function(a){e.$set(t,"vl",a)},expression:"item.vl"}})}),e._v(" "),"Y"===this.childflag?a("van-field",{attrs:{name:this.childwork.workname,label:this.childwork.workname,placeholder:this.childwork.workname,rules:[{required:!0,message:this.childwork.workname}],readonly:!0},on:{focus:function(t){e.childshowPicker=!0}},model:{value:this.childpermUser.username,callback:function(t){e.$set(this.childpermUser,"username",t)},expression:"this.childpermUser.username"}}):e._e(),e._v(" "),a("van-field",{attrs:{name:"审批人",label:"审批人",placeholder:"审批人",rules:[{required:!0,message:"审批人"}],readonly:!0},on:{focus:function(t){e.showPicker=!0}},model:{value:this.permUser.username,callback:function(t){e.$set(this.permUser,"username",t)},expression:"this.permUser.username"}})],2)],1),e._v(" "),a("div",{staticStyle:{height:"1rem"}}),e._v(" "),a("div",{staticStyle:{"padding-top":"1rem",display:"flex","justify-content":"space-around"}},[a("van-button",{staticStyle:{width:"40%","box-shadow":"0 8px 12px #ebedf0"},attrs:{plain:"",round:"",type:"info"},on:{click:function(t){return e.submitForm(0)}}},[e._v("\n          保存\n        ")]),e._v(" "),a("van-button",{staticStyle:{width:"40%","box-shadow":"0 8px 12px #ebedf0"},attrs:{plain:"",round:"",type:"primary"},on:{click:function(t){return e.submitForm(1)}}},[e._v("\n          提交\n        ")])],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.isDatePickerShow,callback:function(t){e.isDatePickerShow=t},expression:"isDatePickerShow"}},[a("van-datetime-picker",{attrs:{type:"datetime",title:"年月日时分","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.dateConfirm,cancel:function(t){e.isDatePickerShow=!1}},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.isDatePickerShowMore,callback:function(t){e.isDatePickerShowMore=t},expression:"isDatePickerShowMore"}},[a("van-datetime-picker",{attrs:{type:"date",title:"年月日时分","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.dateConfirmD,cancel:function(t){e.isDatePickerShowMore=!1}},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.childshowPicker,callback:function(t){e.childshowPicker=t},expression:"childshowPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.childcolumns},on:{confirm:e.childonConfirm,cancel:function(t){e.childshowPicker=!1}}})],1)],1)])])},staticRenderFns:[]};var x=a("VU/8")(b,S,!1,function(e){a("RsIo")},null,null).exports,C={name:"ApprovalList",data:function(){return{users:{},value:"",dropMenuValue:0,dropMenuValue2:0,option1:[{text:"默认排序",value:0},{text:"创建时间",value:1},{text:"审批时间",value:2}],option2:[{text:"审批状态",value:0},{text:"待审批",value:1},{text:"审批中",value:2},{text:"已审批",value:3}],approvalList:[],activeNames:[],approval:{}}},activated:function(){this.users=JSON.parse(window.sessionStorage.getItem("users")),console.log(this.users),this.approvalList=this.users.body.agencyMatters,console.log(this.approvalList)},methods:{approvalWork:function(e){this.approval=e,this.$router.push({name:"approvalWork",params:{approval:u()(this.approval)}})},childWorkList:function(e){this.approval=e,this.$router.push({name:"childWorkList",params:{approval:u()(this.approval)}})}},filters:{getStatusType:function(e){switch(e){case"0":return"warning";case"1":return"primary";case"2":return"success";case"3":case"4":return"warning"}},getStatusText:function(e){switch(e){case"0":return"草稿";case"1":return"审批中";case"2":return"审批结束";case"3":return"删除";case"4":return"打回"}}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"approval-list"},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),a("div",{staticClass:"filter"},[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:e.option1},model:{value:e.dropMenuValue,callback:function(t){e.dropMenuValue=t},expression:"dropMenuValue"}}),e._v(" "),a("van-dropdown-item",{attrs:{options:e.option2},model:{value:e.dropMenuValue2,callback:function(t){e.dropMenuValue2=t},expression:"dropMenuValue2"}})],1),e._v(" "),a("div",{staticClass:"num"},[e._v("数量："),a("span",[e._v(e._s(e.approvalList.length))])])],1),e._v(" "),a("main",[a("van-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.approvalList,function(t,s){return a("van-collapse-item",{key:t.id+s,attrs:{name:t.id},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",[a("h1",[a("span",[e._v(e._s(t.title))]),e._v(" "),a("van-tag",{attrs:{type:e._f("getStatusType")(t.approvalStatus)}},[e._v(e._s(e._f("getStatusText")(t.approvalStatus)))])],1),e._v(" "),a("div",[a("span",{staticClass:"label"},[e._v("单据：")]),e._v(e._s(t.voucher))])])]},proxy:!0}],null,!0)},[e._v(" "),a("div",{staticClass:"collapse-content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("申请人")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.applicant))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("申请时间")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.applyTime))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("公司")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.company))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("部门")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.department))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"detail",on:{click:function(a){return e.approvalWork(t)}}},[e._v("详情")])]),e._v(" "),""!=t.applyInstruction?a("div",{staticClass:"content-item"},[a("div",{staticClass:"detail",on:{click:function(a){return e.childWorkList(t)}}},[e._v(e._s(t.applyInstruction))])]):e._e()])])}),1)],1)],1)},staticRenderFns:[]};var P=a("VU/8")(C,D,!1,function(e){a("1xf5")},null,null).exports,L={name:"workList",data:function(){return{list:[],loading:!1,finished:!1,value:"",workList:[],users:{},loginParams:{}}},activated:function(){this.initData()},methods:{initData:function(){this.users=JSON.parse(window.sessionStorage.getItem("users")),console.log(this.users)},onLoad:function(){var e,t=this,a={cid:this.users.body.cid,userid:this.users.body.userid,de_id:this.users.body.de_id};(e=a,v.a.post("/login/workList",d.a.stringify(e)).then(function(e){return e.data})).then(function(e){console.log(e),0===e.status?(t.workList=e.body,t.list=e.body,t.loading=!1,t.finished=!0):h.a.alert({message:"异常"}).then(function(){})})},agencyMatters:function(e){console.log(e),this.$router.push({path:"/agencyMatters",query:{twpid:String(e.twp_id),workName:String(e.workName)}})},onSearch:function(e){if(this.list=[],""===e)this.list=this.workList;else for(var t=0;t<=this.workList.length;t++)-1!==this.workList[t].workName.indexOf(e)&&this.list.push(this.workList[t])}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"0.5rem"}},[a("div",{staticStyle:{width:"100%",margin:"auto"}},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{search:function(t){return e.onSearch(e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),a("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list,function(t,s){return a("van-cell",{key:s,staticStyle:{"margin-top":"0.5rem","padding-top":"0.5rem"},attrs:{title:t.workName,"is-link":"","title-style":"text-align:left;",inset:"true",value:"发起"},on:{click:function(a){return e.agencyMatters(t)}}})}),1)],1)])},staticRenderFns:[]};var M=a("VU/8")(L,U,!1,function(e){a("pjOI")},"data-v-32c332da",null).exports,W={name:"approvalWork",data:function(){return{activeNames:[],users:{},approval:{},approvalList:[{}],showPicker:!1,columns:[],permUser:{},permResult:"",permColumn:["通过","打回"],permShowPicker:!1,minDate:new Date(2020,0,1),maxDate:new Date(2099,10,1),currentDate:new Date,isDatePickerShow:!1,isDatePickerShowMore:!1}},activated:function(){var e=this;this.permResult="",this.users=JSON.parse(window.sessionStorage.getItem("users")),this.approval=JSON.parse(this.$route.params.approval);var t,a={approcalLevel:this.approval.approcalLevel,voucher:this.approval.voucher,userid:this.users.body.userid,preappr:this.approval.preappr};console.log(this.users),console.log(this.approval),(t=a,v.a.post("/work/approvalWork",d.a.stringify(t)).then(function(e){return e.data})).then(function(t){console.log(t),0===t.status&&(e.approvalList=t.body)})},methods:{showPickerM:function(e){console.log(e.permUser);for(var t=0;t<e.permUser.length;t++)this.columns.push(e.permUser[t].uuid+"--"+e.permUser[t].name);this.showPicker=!0},onConfirm:function(e){this.showPicker=!1,console.log(e),this.permUser={userid:e.split("--")[0],username:e.split("--")[1]},console.log(this.permUser)},peronConfirm:function(e){this.permShowPicker=!1,this.permResult=e},submit:function(e){var t=this,a={approval:e,permResult:""===this.permResult?3:"通过"===this.permResult?1:2,permUser:this.permUser};console.log(a),v()({headers:{"Content-Type":"application/json;charset=UTF-8"},method:"post",url:"/work/sumbitPerm",data:u()(a)}).then(function(e){console.log(e.data),0===e.data.status?h.a.alert({message:"提交成功"}).then(function(){t.$router.push({name:"hello"})}):h.a.alert({message:"提交失败"}).then(function(){})})},inputFocus:function(e,t){console.log("inputFocus==>>"),this.agencyItem=e,3===e.type?this.isDatePickerShow=!0:4===e.type?this.isDatePickerShowMore=!0:5===e.type&&(this.showPicker=!0)},dateConfirm:function(e){this.isDatePickerShow=!1,this.agencyItem.vl=this.getDateYS(e)},dateConfirmD:function(e){this.isDatePickerShowMore=!1,this.agencyItem.vl=this.getDateYD(e)},timeAdd0:function(e){var t=e+"";return t.length<=1&&(t="0"+t),t},getDateYS:function(e){return this.timeAdd0(e.getFullYear())+"-"+this.timeAdd0(e.getMonth()+1)+"-"+this.timeAdd0(e.getDate())+" "+this.timeAdd0(e.getHours())+":"+this.timeAdd0(e.getMinutes())},getDateYD:function(e){return this.timeAdd0(e.getFullYear())+"-"+this.timeAdd0(e.getMonth()+1)+"-"+this.timeAdd0(e.getDate())}},filters:{getStatusType:function(e){switch(e.result){case"0":return"primary";case"1":return"success";case"2":return"warning";case"-1":return"success";case"3":return"warning"}},getStatusText:function(e){switch(e.result){case"0":return"审批中";case"1":return"审批通过";case"2":return"审批打回";case"-1":return"发起工单";case"3":return"填写工单"}}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"approval-list"},[a("div",{staticStyle:{width:"100%"}},[a("div",[a("main",[a("div",{staticStyle:{"padding-top":"1rem","padding-bottom":"1rem","background-color":"white"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v(e._s(this.approval.title))])]),e._v(" "),a("van-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.approvalList,function(t,s){return a("van-collapse-item",{key:t.id+s,attrs:{name:t.id,disabled:""===t.workmsg},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",[a("h1",[a("span",[e._v(e._s(t.usersmsg.username))]),e._v(" "),a("van-tag",{attrs:{type:e._f("getStatusType")(t.usersmsg)}},[e._v(e._s(e._f("getStatusText")(t.usersmsg)))])],1),e._v(" "),a("div",[a("span",{staticClass:"label"},[e._v("时间："+e._s(t.usersmsg.createTime))])])])]},proxy:!0}],null,!0)},[e._v(" "),a("van-form",[a("van-cell-group",{attrs:{inset:""}},[e._l(t.workmsg,function(t,s){return a("van-field",{key:s,attrs:{name:t.name,label:t.name,placeholder:t.name,rules:[{required:!0,message:t.name}],readonly:1==t.readonly},on:{focus:function(a){return e.inputFocus(t,s)}},model:{value:t.vl,callback:function(a){e.$set(t,"vl",a)},expression:"item.vl"}})}),e._v(" "),"W"===t.workflag?a("div",["3"!==t.usersmsg.result?a("van-field",{attrs:{name:"审批结果",label:"审批结果",placeholder:"审批结果",readonly:!0},on:{focus:function(t){e.permShowPicker=!0}},model:{value:e.permResult,callback:function(t){e.permResult=t},expression:"permResult"}}):e._e(),e._v(" "),"Y"===t.permflag?a("div",["通过"===e.permResult||"3"===t.usersmsg.result?a("div",[a("van-field",{attrs:{name:"下一级审批人",label:"下一级审批人",placeholder:"下一级审批人",readonly:!0},on:{focus:function(a){return e.showPickerM(t)}},model:{value:e.permUser.username,callback:function(t){e.$set(e.permUser,"username",t)},expression:"permUser.username"}})],1):e._e()]):e._e(),e._v(" "),a("van-button",{staticStyle:{width:"100%","margin-top":"0.5rem"},attrs:{plain:"",round:"",type:"primary"},on:{click:function(a){return e.submit(t)}}},[e._v("\n                                  提交\n                                ")])],1):e._e()],2)],1)],1)}),1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.isDatePickerShow,callback:function(t){e.isDatePickerShow=t},expression:"isDatePickerShow"}},[a("van-datetime-picker",{attrs:{type:"datetime",title:"年月日时分","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.dateConfirm,cancel:function(t){e.isDatePickerShow=!1}},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.isDatePickerShowMore,callback:function(t){e.isDatePickerShowMore=t},expression:"isDatePickerShowMore"}},[a("van-datetime-picker",{attrs:{type:"date",title:"年月日时分","min-date":e.minDate,"max-date":e.maxDate},on:{confirm:e.dateConfirmD,cancel:function(t){e.isDatePickerShowMore=!1}},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns},on:{confirm:e.onConfirm,cancel:function(t){e.showPicker=!1}}})],1),e._v(" "),a("van-popup",{attrs:{position:"bottom"},model:{value:e.permShowPicker,callback:function(t){e.permShowPicker=t},expression:"permShowPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.permColumn},on:{confirm:e.peronConfirm,cancel:function(t){e.permShowPicker=!1}}})],1)],1)])])])},staticRenderFns:[]};var $=a("VU/8")(W,N,!1,function(e){a("Lqls")},"data-v-8b522438",null).exports,T={name:"myWork",data:function(){return{value:"",activeNames:[],users:{},approval:{},approvalList:[{}]}},activated:function(){var e=this;this.users=JSON.parse(window.sessionStorage.getItem("users")),this.approval=JSON.parse(this.$route.params.approval);var t,a={approvalStatus:this.approval.approvalStatus,voucher:this.approval.voucher,twp_id:this.approval.twp_id};(t=a,v.a.post("/work/myWork",d.a.stringify(t)).then(function(e){return e.data})).then(function(t){console.log(t),0===t.status&&(e.approvalList=t.body)})},methods:{showPickerM:function(e){console.log(e.permUser);for(var t=0;t<e.permUser.length;t++)this.columns.push(e.permUser[t].uuid+"--"+e.permUser[t].name);this.showPicker=!0},onConfirm:function(e){this.showPicker=!1,console.log(e),this.permUser={userid:e.split("--")[0],username:e.split("--")[1]},console.log(this.permUser)},peronConfirm:function(e){this.permShowPicker=!1,this.permResult=e},submit:function(e){var t={approval:e,permResult:"通过"===this.permResult?1:2,permUser:this.permUser};console.log(t),v()({headers:{"Content-Type":"application/json;charset=UTF-8"},method:"post",url:"/work/sumbitPerm",data:u()(t)}).then(function(e){console.log(e.data),0===e.data.status?h.a.alert({message:"提交成功"}).then(function(){}):h.a.alert({message:"提交失败"}).then(function(){})})}},filters:{getStatusType:function(e){switch(e){case"0":return"primary";case"1":return"success";case"2":return"warning";case"-1":return"success";case"3":return"warning"}},getStatusText:function(e){switch(e){case"0":return"审批中";case"1":return"审批通过";case"2":return"审批打回";case"-1":return"发起工单";case"3":return"填写工单"}}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"approval-list"},[a("main",[a("div",{staticStyle:{"padding-top":"1rem","padding-bottom":"1rem","background-color":"white"}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v(e._s(this.approval.title))])]),e._v(" "),a("van-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.approvalList,function(t,s){return a("van-collapse-item",{key:t.id+s,attrs:{name:t.id,disabled:""===t.workmsg},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",[a("h1",[a("span",[e._v(e._s(t.usersmsg.username))]),e._v(" "),a("van-tag",{attrs:{type:e._f("getStatusType")(t.usersmsg.result)}},[e._v(e._s(e._f("getStatusText")(t.usersmsg.result)))])],1),e._v(" "),a("div",[a("span",{staticClass:"label"},[e._v("时间："+e._s(t.usersmsg.createTime))])])])]},proxy:!0}],null,!0)},[e._v(" "),a("van-form",[a("van-cell-group",{attrs:{inset:""}},[e._l(t.workmsg,function(t,s){return a("van-field",{key:s,attrs:{name:t.name,label:t.name,placeholder:t.name,rules:[{required:!0,message:t.name}],readonly:1==t.readonly},model:{value:t.vl,callback:function(a){e.$set(t,"vl",a)},expression:"item.vl"}})}),e._v(" "),"W"===t.workflag?a("div",["Y"===t.permflag?a("div",[a("van-field",{attrs:{name:"审批结果",label:"审批结果",placeholder:"审批结果",rules:[{required:!0,message:"审批结果"}],readonly:!0},on:{focus:function(t){e.permShowPicker=!0}},model:{value:e.permResult,callback:function(t){e.permResult=t},expression:"permResult"}}),e._v(" "),"通过"===e.permResult?a("div",[a("van-field",{attrs:{name:"下一级审批人",label:"下一级审批人",placeholder:"下一级审批人",rules:[{required:!0,message:"下一级审批人"}],readonly:!0},on:{focus:function(a){return e.showPickerM(t)}},model:{value:e.permUser.username,callback:function(t){e.$set(e.permUser,"username",t)},expression:"permUser.username"}})],1):e._e()],1):e._e(),e._v(" "),a("van-button",{staticStyle:{width:"100%","margin-top":"0.5rem"},attrs:{plain:"",round:"",type:"primary"},on:{click:function(a){return e.submit(t)}}},[e._v("\n                提交\n              ")])],1):e._e()],2)],1)],1)}),1)],1)])},staticRenderFns:[]};var R=a("VU/8")(T,F,!1,function(e){a("skoh")},"data-v-004b0e69",null).exports,V={name:"myWorkList",data:function(){return{dropMenuValue:0,dropMenuValue2:0,option1:[{text:"默认排序",value:0},{text:"创建时间",value:1},{text:"审批时间",value:2}],option2:[{text:"审批状态",value:0},{text:"待审批",value:1},{text:"审批中",value:2},{text:"已审批",value:3},{text:"打回",value:4}],users:{},value:"",approvalList:[],activeNames:[],approval:{}}},activated:function(){var e,t=this;this.users=JSON.parse(window.sessionStorage.getItem("users")),console.log(this.users),(e={userid:this.users.body.userid},v.a.post("/work/myWorkList",d.a.stringify(e)).then(function(e){return e.data})).then(function(e){console.log(e),0===e.status&&(t.approvalList=e.body)})},methods:{approvalWork:function(e){this.approval=e,this.$router.push({name:"myWork",params:{approval:u()(this.approval)}})},childWorkList:function(e){this.approval=e,this.$router.push({name:"childWorkList",params:{approval:u()(this.approval)}})}},filters:{getStatusType:function(e){switch(e){case"0":return"warning";case"1":case"2":return"primary";case"3":case"4":return"warning";case"5":return"success"}},getStatusText:function(e){switch(e){case"0":return"草稿";case"1":case"2":return"审批中";case"3":return"删除";case"4":return"打回";case"5":return"审批结束"}}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"approval-list"},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),a("div",{staticClass:"filter"},[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:e.option1},model:{value:e.dropMenuValue,callback:function(t){e.dropMenuValue=t},expression:"dropMenuValue"}}),e._v(" "),a("van-dropdown-item",{attrs:{options:e.option2},model:{value:e.dropMenuValue2,callback:function(t){e.dropMenuValue2=t},expression:"dropMenuValue2"}})],1),e._v(" "),a("div",{staticClass:"num"},[e._v("数量："),a("span",[e._v(e._s(e.approvalList.length))])])],1),e._v(" "),a("main",[a("van-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.approvalList,function(t,s){return a("van-collapse-item",{key:t.id+s,attrs:{name:t.id},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",[a("h1",[a("span",[e._v(e._s(t.title))]),e._v(" "),a("van-tag",{attrs:{type:e._f("getStatusType")(t.approvalStatus)}},[e._v(e._s(e._f("getStatusText")(t.approvalStatus)))])],1),e._v(" "),a("div",[a("span",{staticClass:"label"},[e._v("单据：")]),e._v(e._s(t.voucher))])])]},proxy:!0}],null,!0)},[e._v(" "),a("div",{staticClass:"collapse-content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("申请人")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.applicant))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("申请时间")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.applyTime))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("公司")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.company))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("部门")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.department))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"detail",on:{click:function(a){return e.approvalWork(t)}}},[e._v("详情")])]),e._v(" "),""!=t.applyInstruction?a("div",{staticClass:"content-item"},[a("div",{staticClass:"detail",on:{click:function(a){return e.childWorkList(t)}}},[e._v(e._s(t.applyInstruction))])]):e._e()])])}),1)],1)],1)},staticRenderFns:[]};var A=a("VU/8")(V,I,!1,function(e){a("eoxu")},null,null).exports,q={name:"myWorkList",data:function(){return{dropMenuValue:0,dropMenuValue2:0,option1:[{text:"默认排序",value:0},{text:"创建时间",value:1},{text:"审批时间",value:2}],option2:[{text:"审批状态",value:0},{text:"待审批",value:1},{text:"审批中",value:2},{text:"已审批",value:3},{text:"打回",value:4}],users:{},value:"",approvalList:[],activeNames:[],approval:{}}},activated:function(){var e,t=this;this.users=JSON.parse(window.sessionStorage.getItem("users")),console.log(this.users),this.approval=JSON.parse(this.$route.params.approval),(e={userid:this.approval.voucher},v.a.post("/work/childWorkList",d.a.stringify(e)).then(function(e){return e.data})).then(function(e){console.log(e),0===e.status&&(t.approvalList=e.body)})},methods:{approvalWork:function(e){this.approval=e,this.$router.push({name:"myWork",params:{approval:u()(this.approval)}})},childWorkList:function(e){this.approval=e,this.$router.push({name:"childWorkList",params:{approval:u()(this.approval)}})}},filters:{getStatusType:function(e){switch(e){case"0":return"warning";case"1":case"2":return"primary";case"3":case"4":return"warning";case"5":return"success"}},getStatusText:function(e){switch(e){case"0":return"草稿";case"1":return"审批中";case"2":return"审批结束";case"3":return"删除";case"4":return"打回";case"5":return"审批结束"}}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"approval-list"},[a("van-search",{attrs:{placeholder:"请输入搜索关键词"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),a("div",{staticClass:"filter"},[a("van-dropdown-menu",[a("van-dropdown-item",{attrs:{options:e.option1},model:{value:e.dropMenuValue,callback:function(t){e.dropMenuValue=t},expression:"dropMenuValue"}}),e._v(" "),a("van-dropdown-item",{attrs:{options:e.option2},model:{value:e.dropMenuValue2,callback:function(t){e.dropMenuValue2=t},expression:"dropMenuValue2"}})],1),e._v(" "),a("div",{staticClass:"num"},[e._v("数量："),a("span",[e._v(e._s(e.approvalList.length))])])],1),e._v(" "),a("main",[a("van-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.approvalList,function(t,s){return a("van-collapse-item",{key:t.id+s,attrs:{name:t.id},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",[a("h1",[a("span",[e._v(e._s(t.title))]),e._v(" "),a("van-tag",{attrs:{type:e._f("getStatusType")(t.approvalStatus)}},[e._v(e._s(e._f("getStatusText")(t.approvalStatus)))])],1),e._v(" "),a("div",[a("span",{staticClass:"label"},[e._v("单据：")]),e._v(e._s(t.voucher))])])]},proxy:!0}],null,!0)},[e._v(" "),a("div",{staticClass:"collapse-content"},[a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("申请人")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.applicant))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("申请时间")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.applyTime))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("公司")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.company))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"label"},[e._v("部门")]),e._v(" "),a("div",{staticClass:"value"},[e._v(e._s(t.department))])]),e._v(" "),a("div",{staticClass:"content-item"},[a("div",{staticClass:"detail",on:{click:function(a){return e.approvalWork(t)}}},[e._v("详情")])]),e._v(" "),""!=t.applyInstruction?a("div",{staticClass:"content-item"},[a("div",{staticClass:"detail",on:{click:function(a){return e.childWorkList(t)}}},[e._v(e._s(t.applyInstruction))])]):e._e()])])}),1)],1)],1)},staticRenderFns:[]};var j=a("VU/8")(q,E,!1,function(e){a("jPo7")},null,null).exports;s.default.use(i.a);var O=new i.a({routes:[{path:"/",name:"login",component:g},{path:"/login",name:"login",component:g},{path:"/HelloWorld",name:"HelloWorld",component:l},{path:"/hello",name:"hello",component:y},{path:"/agencyMatters",name:"agencyMatters",component:x},{path:"/ApprovalList",name:"ApprovalList",component:P},{path:"/workList",name:"workList",component:M},{path:"/approvalWork",name:"approvalWork",component:$},{path:"/myWork",name:"myWork",component:R},{path:"/myWorkList",name:"myWorkList",component:A},{path:"/childWorkList",name:"childWorkList",component:j}]});(new i.a).beforeEach(function(e,t,a){if(e.path.startsWith("/login"))window.sessionStorage.removeItem("userName"),a();else if(e.path.startsWith("/register"))a();else{window.sessionStorage.getItem("users")?a():a({path:"/login"})}});var Y=a("zL8q"),J=a.n(Y),H=(a("tvR6"),a("4ml/"),a("17/p"));a("uRzA");s.default.use(h.b),s.default.use(H.a),s.default.config.productionTip=!1,s.default.use(J.a),new s.default({el:"#app",router:O,components:{App:r},template:"<App/>"})},RqNW:function(e,t){},RsIo:function(e,t){},"U+n/":function(e,t){},UBO3:function(e,t){},eoxu:function(e,t){},jPo7:function(e,t){},pjOI:function(e,t){},skoh:function(e,t){},tvR6:function(e,t){},uRzA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b4b58ca19eb5a53b8e04.js.map